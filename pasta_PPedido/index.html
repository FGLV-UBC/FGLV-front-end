<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciamento de Pedidos</title>
    <!-- Link para CSS -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Inclua as folhas de estilo do Bootstrap e os scripts do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container mt-5">
        
        <div class="title-and-button text-light">
            <h1>Gerenciamento de Produção</h1>
            <button class="btn btn-primary mb-3" id="verMeusDadosBtn">
                Ver Meus Dados
            </button>
        </div>    

        <ul class="list-group" id="mesa1">
            <li class=" mb-3">
                <div class="text-light">
                    <p class="fs-5 fw-bold">Pedido: 1</p>
                    <ul>
                        <li>Pizza de Calabresa: Massa de Pizza, Molho de Tomate, Calabresa, Queijo, Azeitonas Pretas, Orégano, Azeite de Oliva</li>
                        <li>Refrigerante: Coca-cola</li>
                    </ul>
                    <div class="mt-3">
                        <button class="btn btn-success ver-produtos me-2">Ver Itens do Pedido</button>
                        <button class="btn btn-danger fechar-mesa">Finalizar</button>
                    </div>
                </div>
            </li>
        </ul>   
        
        <ul class="list-group" id="mesa2">
            <li class=" mb-3">
                <div class="text-light">
                    <p class="fs-5 fw-bold">Pedido: 2</p>
                    <ul>
                        <li>Pizza de Calabresa: Massa de Pizza, Molho de Tomate, Calabresa, Queijo, Azeitonas Pretas, Orégano, Azeite de Oliva</li>
                        <li>Refrigerante: Coca-cola</li>
                    </ul>
                    <div class="mt-3">
                        <button class="btn btn-success ver-produtos me-2">Ver Itens do Pedido</button>
                        <button class="btn btn-danger fechar-mesa">Finalizar</button>
                    </div>
                </div>
            </li>
        </ul> 
            <!-- Adicione outras mesas aqui -->
        </ul>
    </div>

    <!-- Modal para Ver Produtos -->
    <div class="modal fade" id="verProdutosModal" tabindex="-1" aria-labelledby="verProdutosModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="verProdutosModalLabel">Itens do Pedido</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="produtosDaMesa">
                    <!-- Aqui você pode adicionar dinamicamente os produtos da mesa -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação para Fechar Mesa -->
    <div class="modal fade" id="confirmacaoFecharMesaModal" tabindex="-1" aria-labelledby="confirmacaoFecharMesaModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmacaoFecharMesaModalLabel">Confirmar Finalização do Pedido</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>O pedido ja esta pronto?</p>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="paga" id="pagaSim" value="sim">
                        <label class="form-check-label" for="pagaSim">
                            Sim
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="paga" id="pagaNao" value="nao">
                        <label class="form-check-label" for="pagaNao">
                            Não
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-success" id="confirmarFecharMesaBtn">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Ver Meus Dados -->
    <div class="modal fade" id="meusDadosModal" tabindex="-1" aria-labelledby="meusDadosModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="meusDadosModalLabel">Meus Dados</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="nome" class="form-label">Nome</label>
                            <input type="text" class="form-control" id="nome" value="Nome do Garçom">
                        </div>
                        <div class="mb-3">
                            <label for="login" class="form-label">Login</label>
                            <input type="text" class="form-control" id="login" value="login_garcom">
                        </div>
                        <div class="mb-3">
                            <label for="senha" class="form-label">Senha</label>
                            <input type="password" class="form-control" id="senha" placeholder="Digite a nova senha">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="salvarAlteracoesBtn">Salvar Alterações</button>
                </div>            
            </div>
        </div>
    </div>

    <script>
        // Adicione um ouvinte de evento ao botão "Ver Meus Dados" para abrir o modal
        document.getElementById("verMeusDadosBtn").addEventListener("click", function() {
            var meusDadosModal = new bootstrap.Modal(document.getElementById('meusDadosModal'));
            meusDadosModal.show();
        });

        // Adicione um ouvinte de evento aos botões "Ver Produtos" para abrir o modal de produtos
        var verProdutosButtons = document.querySelectorAll(".ver-produtos");
        verProdutosButtons.forEach(function(button) {
            button.addEventListener("click", function() {
                var listItem = this.parentElement.parentElement.querySelector("ul").cloneNode(true);
                var produtosDaMesa = document.getElementById("produtosDaMesa");
                produtosDaMesa.innerHTML = "";
                produtosDaMesa.appendChild(listItem);

                var verProdutosModal = new bootstrap.Modal(document.getElementById('verProdutosModal'));
                verProdutosModal.show();
            });
        });


        var mesaParaFechar = null; // Variável para armazenar a mesa a ser fechada

        // Adicione um ouvinte de evento aos botões "Fechar Mesa" para abrir o modal de confirmação
        var fecharMesaButtons = document.querySelectorAll(".fechar-mesa");
        fecharMesaButtons.forEach(function(button) {
            button.addEventListener("click", function() {
                mesaParaFechar = this.closest("ul"); // Encontrar o elemento da mesa específica
                var confirmacaoFecharMesaModal = new bootstrap.Modal(document.getElementById('confirmacaoFecharMesaModal'));
                confirmacaoFecharMesaModal.show();
            });
        });

        // Adicione um ouvinte de evento ao botão "Confirmar" no modal de confirmação para fechar a mesa
        document.getElementById("confirmarFecharMesaBtn").addEventListener("click", function() {
            if (mesaParaFechar) {
                mesaParaFechar.remove(); // Remove a mesa específica
            }
            mesaParaFechar = null; // Limpa a variável
            var confirmacaoFecharMesaModal = new bootstrap.Modal(document.getElementById('confirmacaoFecharMesaModal'));
            confirmacaoFecharMesaModal.hide();
        });

    
        
    </script>
</body>
</html>
